# ==================================================
# CONFIGURAÇÃO JVM OTIMIZADA PARA VPS
# ==================================================

# --- Configurações de Memória ---
# Heap inicial: 512MB
# Heap máximo: 2GB (ajustar conforme RAM da VPS)
-Xms512m
-Xmx2g

# --- Garbage Collector (G1GC) ---
# G1GC é mais eficiente para aplicações com heap > 1GB
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200
-XX:G1HeapRegionSize=16m
-XX:+UseStringDeduplication

# --- Configurações de Performance ---
-XX:+UseCompressedOops
-XX:+UseCompressedClassPointers
-XX:+TieredCompilation
-XX:TieredStopAtLevel=4

# --- Configurações de Logging GC ---
-XX:+PrintGC
-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-XX:+PrintGCDateStamps
-Xloggc:/var/log/mottu/gc.log
-XX:+UseGCLogFileRotation
-XX:NumberOfGCLogFiles=5
-XX:GCLogFileSize=10M

# --- Configurações de Segurança ---
-Djava.security.egd=file:/dev/./urandom
-Djava.awt.headless=true

# --- Configurações de Rede ---
-Djava.net.preferIPv4Stack=true
-Djava.net.preferIPv6Addresses=false

# --- Configurações de Timezone ---
-Duser.timezone=America/Sao_Paulo

# --- Configurações de Encoding ---
-Dfile.encoding=UTF-8
-Dsun.jnu.encoding=UTF-8

# --- Configurações de Spring ---
-Dspring.profiles.active=vps
-Dspring.config.location=classpath:/application-vps.properties

# --- Configurações de Logging ---
-Dlogging.level.root=WARN
-Dlogging.level.br.com.fiap.mottu=INFO
-Dlogging.file.name=/var/log/mottu/mottu.log

# --- Configurações de Monitoramento ---
-Dmanagement.endpoints.web.exposure.include=health,info,metrics
-Dmanagement.endpoint.health.show-details=when-authorized

# --- Configurações de CORS ---
-Dcors.allowed-origins=http://72.61.219.15:3000,http://localhost:3000,http://72.61.219.15:3002,http://72.61.219.15:8080

# --- Configurações de Upload ---
-Dspring.servlet.multipart.max-file-size=50MB
-Dspring.servlet.multipart.max-request-size=50MB




